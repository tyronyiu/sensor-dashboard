{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/pi/sensor-dashboard/components/Graph.js\";\nimport { useQuery, gql } from '@apollo/client';\nimport { Line } from 'react-chartjs-2';\nconst getData = gql`\n  query allData{\n    allData{\n      time\n      temperature\n      humidity\n      heatIndex\n      dewPoint\n      absoluteHumidity\n    }\n  }\n`;\n\nfunction Graph() {\n  var graphData = [];\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(getData);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Error :(\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 23\n  }, this);\n\n  if (data) {\n    console.log(data.allData);\n\n    for (var i = 0; i < data.allData.length; i++) {\n      graphData.push({\n        time: data.allData[i].time,\n        temperature: data.allData[i].temperature,\n        humidity: data.allData[i].humidity\n      });\n    }\n  }\n\n  const state = {\n    labels: graphData.map(datapoint => datapoint.time),\n    datasets: [{\n      label: 'Temperature',\n      fill: false,\n      lineTension: 0.5,\n      backgroundColor: 'rgba(75,192,192,1)',\n      borderColor: 'rgba(0,0,0,1)',\n      borderWidth: 2,\n      data: graphData.map(datapoint => datapoint.temperature)\n    }]\n  };\n  const humidity = {\n    labels: graphData.map(datapoint => datapoint.time),\n    datasets: [{\n      label: 'Humidity',\n      fill: false,\n      lineTension: 0.5,\n      backgroundColor: 'rgba(75,192,192,1)',\n      borderColor: 'rgba(0,0,0,1)',\n      borderWidth: 2,\n      data: graphData.map(datapoint => datapoint.humidity)\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Line, {\n      data: state,\n      options: {\n        title: {\n          display: true,\n          text: 'Temperature over time',\n          fontSize: 20\n        },\n        legend: {\n          display: true,\n          position: 'bottom'\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Line, {\n      data: humidity,\n      width: 300,\n      height: 300,\n      options: {\n        maintainAspectRatio: false\n      },\n      options: {\n        title: {\n          display: true,\n          text: 'Humidity over time',\n          fontSize: 20\n        },\n        legend: {\n          display: true,\n          position: 'bottom'\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true);\n}\n\nexport default Graph;","map":{"version":3,"sources":["/home/pi/sensor-dashboard/components/Graph.js"],"names":["useQuery","gql","Line","getData","Graph","graphData","loading","error","data","console","log","allData","i","length","push","time","temperature","humidity","state","labels","map","datapoint","datasets","label","fill","lineTension","backgroundColor","borderColor","borderWidth","title","display","text","fontSize","legend","position","maintainAspectRatio"],"mappings":"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","sourcesContent":["import { useQuery, gql } from '@apollo/client';\nimport {Line} from 'react-chartjs-2';\nconst getData = gql`\n  query allData{\n    allData{\n      time\n      temperature\n      humidity\n      heatIndex\n      dewPoint\n      absoluteHumidity\n    }\n  }\n`;\n\nfunction Graph(){\n    var graphData = []\n    const { loading, error, data } = useQuery(getData);\n    if (loading) return <p>Loading...</p>;\n    if (error) return <p>Error :(</p>;\n    if (data){\n        console.log(data.allData)\n        for (var i = 0; i < data.allData.length; i++){\n            graphData.push({\n            time: data.allData[i].time,\n            temperature: data.allData[i].temperature,\n            humidity: data.allData[i].humidity\n            })\n        }\n    }\n       const state = {\n  labels: graphData.map(datapoint =>(datapoint.time)),\n  datasets: [\n    {\n      label: 'Temperature',\n      fill: false,\n      lineTension: 0.5,\n      backgroundColor: 'rgba(75,192,192,1)',\n      borderColor: 'rgba(0,0,0,1)',\n      borderWidth: 2,\n      data: graphData.map(datapoint =>(datapoint.temperature))\n    }\n  ]\n}\n\n       const humidity = {\n  labels: graphData.map(datapoint =>(datapoint.time)),\n  datasets: [\n    {\n      label: 'Humidity',\n      fill: false,\n      lineTension: 0.5,\n      backgroundColor: 'rgba(75,192,192,1)',\n      borderColor: 'rgba(0,0,0,1)',\n      borderWidth: 2,\n      data: graphData.map(datapoint =>(datapoint.humidity))\n    }\n  ]\n}\n\n        return(\n            <>\n          <Line\n          data={state}\n          options={{\n            title:{\n              display:true,\n              text:'Temperature over time',\n              fontSize:20\n            },\n            legend:{\n              display:true,\n              position:'bottom'\n            }\n          }}\n        />\n\n          <Line\n          data={humidity}\n            width={300}\n  height={300}\n  options={{ maintainAspectRatio: false }}\n          options={{\n            title:{\n              display:true,\n              text:'Humidity over time',\n              fontSize:20\n            },\n            legend:{\n              display:true,\n              position:'bottom'\n            }\n          }}\n        />\n            </>\n        )\n\n}\nexport default Graph;\n"]},"metadata":{},"sourceType":"module"}